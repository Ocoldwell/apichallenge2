(this.webpackJsonpapichallenge=this.webpackJsonpapichallenge||[]).push([[0],{33:function(e,t,n){e.exports={input:"Input_input__3rPb3",input__box:"Input_input__box__21qU2"}},40:function(e,t,n){e.exports={Card:"Card_Card__37Yu0",content__card:"Card_content__card__3xSfC"}},41:function(e,t,n){e.exports={list:"CardList_list__MJPxv"}},44:function(e,t,n){e.exports={nav:"Navigation_nav__2AsUs"}},45:function(e,t,n){e.exports={App:"App_App__15LM-"}},50:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(26),s=n.n(r),i=(n(50),n(3)),o=function(){return Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Best Game Discounts Today!"})})},j=n(40),u=n.n(j),l=n(17),h="https://www.cheapshark.com/api/1.0/",d=function(e){return fetch("".concat(h,"deals?title=").concat(e,"&sortBySavings&onSale&exact")).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return e}))}))},b=Object(c.createContext)({}),O=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),o=Object(l.a)(s,2),j=o[0],u=o[1],O=Object(c.useState)(""),x=Object(l.a)(O,2),m=x[0],f=x[1],p=Object(c.useState)([]),g=Object(l.a)(p,2),v=g[0],_=g[1],S=function(e){return e.map((function(e){return{storeID:e.storeID,storeName:e.storeName,images:e.images}}))};return Object(c.useEffect)((function(){fetch("".concat(h,"stores")).then((function(e){return e.json()})).then((function(e){return e.filter((function(e){return e.isActive})).map((function(e){return e[e.storeID]=e.images,e}))})).then((function(e){u(S(e))})),fetch("".concat(h,"deals?sortBy=Savings&pageSize=30&onSale")).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return e}))})).then((function(e){r(e)}))}),[]),Object(c.useEffect)((function(){0!==m.length&&d(m).then((function(e){_(e)}))}),[m]),Object(i.jsx)(b.Provider,{value:{deals:a,stores:j,searchQuery:m,setSearchQuery:f,searchResults:v,setSearchResults:_,cleanStores:S,clearState:function(){f(""),_([])}},children:e.children})},x=function(e){var t="https://www.cheapshark.com/",n=Object(c.useContext)(b).stores,r=e.gameDeal,s=function(e){return e.find((function(e){if(e.storeID===r.storeID)return e.images}))};return console.log(s(n)),Object(i.jsx)("div",{className:u.a.Card,children:Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)("img",{src:r.thumb,alt:r.title}),Object(i.jsx)("a",{href:"".concat(t,"redirect?dealID=").concat(r.dealID),target:"_blank",rel:"noreferrer",children:Object(i.jsx)("h3",{children:"".concat(r.title)})}),Object(i.jsx)("img",{src:"".concat(t)+s(n).images.logo,alt:"store-banner"}),Object(i.jsxs)("p",{children:["Sale Price: ".concat(r.salePrice," Regular Price: "),Object(i.jsx)("span",{children:"".concat(r.normalPrice)})]})]},r.dealId)})},m=n(41),f=n.n(m),p=function(e){var t=Object(c.useContext)(b),n=t.deals,a=t.searchResults,r=function(e){return Object(i.jsx)("div",{children:Object(i.jsx)(x,{gameDeal:e})},e.dealID)};return Object(i.jsx)("div",{className:f.a.list,children:a.length>0?a.map(r):n.map(r)})},g=function(){var e=Object(c.useContext)(b).clearState;return Object(c.useEffect)((function(){e()}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(o,{}),Object(i.jsx)(p,{})]})},v=n(27),_=n(10),S=n(70),I=n(71),w=n(72),y=n(73),C=n(74),D=n(75),N=n(76),P=n(24);n(69),n(54);P.a.initializeApp({apiKey:"AIzaSyBcjwF-cn4BYeQzg17raw2Ac8o9xnJVawA",authDomain:"cheapshark-api.firebaseapp.com",projectId:"cheapshark-api",storageBucket:"cheapshark-api.appspot.com",messagingSenderId:"69366971004",appId:"1:69366971004:web:eb17c896febf096021a7f9",measurementId:"G-GC4F7DH4RY"});var k=new P.a.auth.GoogleAuthProvider,A=P.a.auth(),G=P.a.auth(),q=function(){var e=Object(v.a)(),t=e.register,n=e.handleSubmit,c=Object(_.f)();return Object(i.jsxs)(S.a,{children:[Object(i.jsxs)(I.a,{className:"form",onSubmit:n((function(e){return A.signInWithEmailAndPassword(e.email,e.password).then((function(e){var t=e.user;G.collection("users").doc(t.uid).get().then((function(e){c.push("/home")})).catch((function(e){var t=e.code,n=e.message;console.log(t),console.log(n),alert("".concat(t,":").concat(n))}))}))})),children:[Object(i.jsx)(w.a,{children:Object(i.jsxs)(y.a,{children:[Object(i.jsx)(C.a,{children:"Email"}),Object(i.jsx)(D.a,{name:"email",ref:t({required:!0})})]})}),Object(i.jsx)(w.a,{children:Object(i.jsxs)(y.a,{children:[Object(i.jsx)(C.a,{children:"Password"}),Object(i.jsx)(D.a,{name:"password",ref:t({required:!0})})]})}),Object(i.jsx)(N.a,{name:"submit",type:"submit",children:"Log In"})]}),Object(i.jsx)(N.a,{name:"google",onClick:function(e){return A.signInWithPopup(k).then((function(e){e.credential,e.token,e.user;c.push("/home")})).catch((function(e){e.code,e.message,e.email,e.credential}))},children:"Google"})]})},B=n(22),E=n(77),F=n(78),R=n(79),Q=n(82),T=n(80),L=n(81),z=n(44),J=n.n(z),M=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(i.jsx)("div",{children:Object(i.jsxs)(E.a,{color:"faded",light:!0,className:J.a.nav,children:[Object(i.jsx)(F.a,{href:"/login",className:"mr-auto",children:"Game Deals"}),Object(i.jsx)(R.a,{onClick:function(){return a(!n)},className:"mr-2"}),Object(i.jsx)(Q.a,{isOpen:!n,navbar:!0,children:Object(i.jsxs)(T.a,{navbar:!0,children:[Object(i.jsx)(L.a,{children:Object(i.jsx)(B.b,{to:"/home",children:"Home"})}),Object(i.jsx)(L.a,{children:Object(i.jsx)(B.b,{to:"/search",children:"Search Deals"})}),Object(i.jsx)(L.a,{children:Object(i.jsx)(B.b,{to:"/forum",children:"Message Board"})})]})})]})})},U=function(){var e=Object(v.a)(),t=e.register,n=e.handleSubmit,c=e.watch,a=e.errors;return console.log(c("email")),Object(i.jsx)(S.a,{className:"container",children:Object(i.jsxs)(I.a,{onSubmit:n((function(e){return A.createUserWithEmailAndPassword(e.email,e.password).then((function(e){e.user})).catch((function(e){e.code,e.message}))})),className:"form",children:[Object(i.jsx)(w.a,{children:Object(i.jsxs)(y.a,{children:[Object(i.jsx)(C.a,{children:"Email"}),Object(i.jsx)(D.a,{name:"email",placeholder:"email",type:"email",ref:t})]})}),Object(i.jsx)(w.a,{children:Object(i.jsxs)(y.a,{children:[Object(i.jsx)(C.a,{children:"Username"}),Object(i.jsx)(D.a,{name:"username",type:"text",placeholder:"username",ref:t({required:!0})}),a.username&&Object(i.jsx)("span",{children:"This field is required"})]})}),Object(i.jsx)(w.a,{children:Object(i.jsxs)(y.a,{children:[Object(i.jsx)(C.a,{children:"Name"}),Object(i.jsx)(D.a,{name:"name",type:"text",placeholder:"name",ref:t({required:!0})}),a.name&&Object(i.jsx)("span",{children:"This field is required"})]})}),Object(i.jsxs)(w.a,{children:[Object(i.jsxs)(y.a,{children:[Object(i.jsx)(C.a,{children:"Favourite Game"}),Object(i.jsx)(D.a,{name:"favouriteGame",type:"text",ref:t({required:!0})}),a.favouriteGame&&Object(i.jsx)("span",{children:"This field is required"})]}),Object(i.jsx)(N.a,{type:"submit",children:"Submit"})]})]})})},W=n(33),Y=n.n(W),H=function(){var e=Object(c.useContext)(b),t=e.setSearchResults,n=e.searchQuery,a=e.clearState,r=e.setSearchQuery,s=Object(c.useRef)(null);return Object(c.useEffect)((function(){a()}),[]),Object(i.jsx)("div",{className:Y.a.input,children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(d(n))},ref:s,children:[Object(i.jsx)("input",{type:"text",placeholder:"search for deals here",className:Y.a.input__box,name:"searchvalue"}),Object(i.jsx)("button",{type:"submit",onClick:function(){var e=s.current;r(e.searchvalue.value)},children:"Get todays best deals"})]})})},K=function(){var e=Object(c.useContext)(b).searchQuery;return Object(i.jsxs)("div",{children:[Object(i.jsx)(H,{}),e.length>0?Object(i.jsx)(p,{}):null]})},V=n(45),X=n.n(V),Z=function(){return Object(i.jsx)("div",{className:X.a.App,children:Object(i.jsxs)(B.a,{children:[Object(i.jsx)(M,{}),Object(i.jsx)(_.c,{children:Object(i.jsxs)(O,{children:[Object(i.jsx)(_.a,{exact:!0,path:"/",component:q}),Object(i.jsx)(_.a,{path:"/home",component:g}),Object(i.jsx)(_.a,{path:"/search",component:K}),Object(i.jsx)(_.a,{path:"/register",component:U})]})})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};n(67);s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(Z,{})}),document.getElementById("root")),$()}},[[68,1,2]]]);
//# sourceMappingURL=main.faf70f22.chunk.js.map